<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScalerSage</title>
  <style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');

  body {
    font-family: 'Poppins', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    background: linear-gradient(45deg, #ffffff, #ccc3c3);
  }

  #chat-container {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background-color: #f5f5f5;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 800px;
    height: 80vh;
    overflow: hidden;
    border: 2px solid #0008ff;
  }

  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 20px;
    background-color: #0008ff;
    color: white;
  }

  header img {
    height: 40px;
    margin-right: 15px;
  }

  header h1 {
    font-size: 1.5em;
    margin: 0;
    font-family: 'Poppins', sans-serif;
  }

  #sessions-link {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: white;
    font-weight: bold;
  }

  #sessions-link img {
    height: 25px;
  }

  #chat-history {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto;
    background-color: #f5f5f5;
  }

  .message {
    display: flex;
    align-items: center;
    padding: 10px;
    border-radius: 10px;
    margin-bottom: 10px;
    max-width: 70%;
    word-wrap: break-word;
    font-family: 'Poppins', sans-serif;
  }

  .user-message {
    align-self: flex-end;
    background-color: #d6e2ee;
    color: rgb(0, 0, 0);
    margin-left: auto; /* Add this line */
  }

  .bot-message {
    align-self: flex-start;
    background-color: #f5f5f5;
    color: #333;
  }

  .message img {
    height: 30px;
    width: 30px;
    margin-right: 10px;
    border-radius: 50%;
  }

  form {
    display: flex;
    flex-wrap: wrap; /* Add this line */
    border-top: 1px solid #e0e0e0;
    padding: 10px;
    background-color: #f5f5f5;
  }

  input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 1em;
  }

  button {
    background-color: #007BFF;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    margin-left: 10px;
  }

  button:hover {
    background-color: #0056b3;
  }

  #loader {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  </style>
</head>
<body>
  <div id="chat-container">
    <header>
      <img src="https://scaler-blog-prod-wp-content.s3.ap-south-1.amazonaws.com/wp-content/uploads/2021/04/22114216/74797539_118431542933200_2322441253926469632_o-1.png" alt="go">
      <h1>ScalerSage</h1>
      <a href="sessions.html" id="sessions-link">
        <img src="https://cdn-icons-png.flaticon.com/512/1999/1999051.png" alt="Sessions">
        Sessions
      </a>  
    </header>
    <div id="chat-history"></div>
    <form id="chat-form">
      <input type="text" id="user-input" placeholder="Enter your message">
      <button type="submit">Send</button>
    </form>
  </div>
  <div id="loader">
    <img src="loader.gif" width="150px" alt="Loading..."> 
  </div>
  <script>
    const chatHistory = document.getElementById('chat-history');
    const userInput = document.getElementById('user-input');
    const form = document.getElementById('chat-form');

    const userAvatar = 'data:image/jpeg;base64,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'; 
    const botAvatar = 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTy4iKxuz8pJuG3KabET56zcnL2hCZNk-aW8A&s';

    async function sendMessage() {
      const userMessage = userInput.value;
      userInput.value = ''; 

      // Display the user's message immediately
      chatHistory.innerHTML += `
        <div class="message user-message">
          <img src="${userAvatar}" alt="User">
          <div>${userMessage}</div>
        </div>`;
      chatHistory.scrollTop = chatHistory.scrollHeight;

      try {
        const response = await fetch('/chat', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ userInput: userMessage }),
        });

        const data = await response.json();
        const botMessage = data.response;
        const formattedMessage = processMessage(botMessage);

// Convert the bot's response to HTML using marked

// Display the bot's response as HTML
chatHistory.innerHTML += `
  <div class="message bot-message">
    <img src="${botAvatar}" alt="Bot">
    <div>${formattedMessage}</div>
  </div>`;
chatHistory.scrollTop = chatHistory.scrollHeight;
function processMessage(message) {
  const boldRegex = /\*\*(.*?)\*\*/g;
  const formattedMessage = message.replace(boldRegex, '<br><strong>$1</strong>');
  
  return formattedMessage;
}
      } catch (error) {
        console.error('Error:', error);
        // Handle errors gracefully, e.g., display an error message to the user
      }
    }
    

    form.addEventListener('submit', (event) => {
      event.preventDefault(); // Prevent form submission
      const loader = document.getElementById('loader');
      loader.style.display = 'block'; // Show the loader
      sendMessage().finally(() => {
        loader.style.display = 'none'; // Hide the loader after the message is sent
      });
    });
    const sessionsButton = document.getElementById('sessions-link');
    sessionsButton.addEventListener('click', openSessionsPage);

    // Function to open the sessions page
    function openSessionsPage() {
        window.location.href = 'sessions.html';
    }
  </script>
</body>
</html>
